WindowManager:
    MainWindow:
    SecondWindow:
    ThirdWindow:
    FourthWindow:


<MainWindow>:

    name: "home"
    logs: logs

    GridLayout:
        cols: 1

        GridLayout:
            cols: 2
            size_hint: (1, 0.2)

            Label:
                text: "Welcome to ARGlasses"
                size_hint: (0.75, 0.25)

            GridLayout:
                rows: 2
                size_hint: (0.25, 0.25)

                Button:
                    text: "Connect"
                    size_hint: (0.25, 0.25)
                    on_press: root.connect_button()

                Button:
                    text: "Disconnect"
                    size_hint: (0.25, 0.25)
                    on_press: root.disconnect_button()

        Label:
            text: "Available features:"
            size_hint: (1, 0.15)

        Button:
            text: "Send Notes to device"
            on_release:
                app.root.current = "send_notes"
                root.manager.transition.direction = "left"

        Button:
            text: "WEB features"
            on_release:
                app.root.current = "web_features"
                root.manager.transition.direction = "left"

        Button:
            text: "Mousepad"
            on_release:
                app.root.current = "mousepad"
                root.manager.transition.direction = "left"

        Label:
            id: logs
            size_hint: (1, 0.1)


<SecondWindow>:

    name: "send_notes"
    notes: notes
    logs: logs

    GridLayout:
        cols:1
        size: root.width, root.height
        pos: 0, 0

        GridLayout:
            cols:1

            Label:
                text: "PAGE 1 - Notes"
                size_hint: (1, 0.25)

            TextInput:
                multiline: True
                id: notes
                hint_text: "Write here notes to be displayed on screen"
                focus: True

            Button:
                text:"Send to device"
                size_hint: (1, 0.5)
                on_press: root.send_notes()

            Button:
                text: "Home"
                size_hint: (0.2, 0.2)
                on_release:
                    app.root.current = "home"
                    root.manager.transition.direction = "right"

            Label:
                id: logs
                size_hint: (1, 0.1)


<ThirdWindow>:

    name: "web_features"
    query: query
    logs: logs

    GridLayout:
        cols:1
        size: root.width, root.height
        pos: 0, 0

        GridLayout:
            cols:1

            Label:
                text: "PAGE 2 - WEB features"
                size_hint: (1, 0.25)

            TextInput:
                multiline: True
                size_hint: (1, 0.25)
                id: query
                hint_text: "Input the resource you want to reach"
                focus: True

            Button:
                text:"Search"
                size_hint: (1, 0.5)
                on_press: root.web_search()

            Button:
                text: "Home"
                size_hint: (0.2, 0.2)
                on_release:
                    app.root.current = "home"
                    root.manager.transition.direction = "right"

            Label:
                id: logs
                size_hint: (1, 0.1)


<FourthWindow>:
    name: "mousepad"
    logs: logs
    touchpad: touchpad

    GridLayout:
        cols:1
        size: root.width, root.height
        pos: 0, 0

        Label:
            text: "TouchPad"
            size_hint: (1, 0.2)
        
        TouchPad:
            id: touchpad
            size_hint: (1, 1)
            canvas.before:
                Rectangle:
                    pos: self.pos
                    size: self.size
                    #   source='touchpad_background.png'  # se desideri uno sfondo personalizzato

        Button:
            text: "Home"
            size_hint: (0.2, 0.2)
            on_release:
                app.root.current = "home"
                root.manager.transition.direction = "right"

        Label:
            id: logs
            size_hint: (1, 0.1)
